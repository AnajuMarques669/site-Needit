<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NeedIt — Pesquisa</title>
<link rel="stylesheet" href="css/style.css">
<header>
    <div class="logo">
        <img src="img/logoNeedIt-sem-fundo.png" alt="NeedIt">
    </div>
    <nav>
        <a href="index.html" class="active">Home</a>
        <a href="analise.html">Análise</a>
        <a href="sobre.html">Sobre Nós</a>
         <a href="pesquisa.html">Pesquisar</a>
    </nav>
</header>

<style>
body { font-family: Arial, sans-serif; background:#f2f2f2; margin:0; padding:0; }
.pesquisa-container {
    max-width: 900px;
    margin: 80px auto 40px;
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
}
#produtoInput, #buscarBtn {
    width: 100%;
    padding: 14px;
    margin-bottom: 12px;
    border-radius: 12px;
    font-size: 16px;
    box-sizing: border-box;
}
#buscarBtn {
    background: #0d47a1;
    color: white;
    border: none;
    cursor: pointer;
}
#buscarBtn:hover { background: #1565c0; }
.loading { display: none; margin-top: 10px; font-weight: bold; color:#0d47a1; }
.resultados {
    margin-top: 35px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 25px;
}
.card-avaliacao {
    background: #ffffff;
    border-radius: 20px;
    overflow: hidden;
    padding: 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    transition: transform .2s, box-shadow .2s;
}
.card-avaliacao:hover { transform: translateY(-4px); box-shadow: 0 10px 28px rgba(0,0,0,0.15); }
.card-user { display: flex; align-items: center; gap: 10px; padding: 14px 18px 5px 18px; }
.avatar {
    width: 38px; height: 38px; border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    font-weight: 700; color: white;
}
.card-avaliacao h3 { padding: 0 18px; font-size: 16px; margin: 8px 0 5px; }
.stars { padding: 0 18px; font-size: 18px; color: #ffb400; }
.card-avaliacao p { padding: 0 18px 18px; font-size: 14px; color: #444; line-height: 1.45; }
.card-positiva { background: #e6f8ed; }
.card-neutra { background: #f0f0f0; }
.card-negativa { background: #fce8e6; }
.avatar-positiva { background: #2e7d32; }
.avatar-neutra { background: #616161; }
.avatar-negativa { background: #c62828; }
</style>
</head>
<body>

<div class="pesquisa-container">
    <h1>Pesquisar avaliações de produtos</h1>
    <input id="produtoInput" type="text" placeholder="Digite os produtos separados por vírgula">
    <button id="buscarBtn">Buscar</button>
    <div id="loading" class="loading">Gerando avaliações...</div>
    <div id="resultados" class="resultados"></div>
</div>

<script>
function gerarAvaliacoes(produto) {
    const nomes = ["Ana Clara","João Martins","Gabriel Souza","Mariana Lopes","Ricardo Alves","Beatriz Faria","Lucas Henrique","Carla Mendes","Fernanda Rocha","Thiago Duarte","Lívia Torres","Pedro Azevedo"];

    const frasesPos = ["Excelente compra!", "Ótimo custo-benefício", "Vale muito a pena","Superou minhas expectativas","Qualidade impressionante"];
    const frasesNeg = ["Não vale o preço", "Decepcionante", "Problemas constantes","Experiência ruim","Não recomendo"];
    const frasesNeut = ["É razoável", "Cumpre o que promete", "Nada demais","Funciona bem","Poderia ser melhor"];

    const comentariosPos = [
        `Comprei o ${produto} faz algumas semanas e estou realmente surpreso com a qualidade. Não esperava que fosse tão bom pelo preço.`,
        `O ${produto} me ajudou muito no dia a dia. Achei resistente, bem acabado e com desempenho excelente.`,
        `Estou usando o ${produto} diariamente e até agora não tive nenhum problema. Atendeu totalmente minhas expectativas.`,
        `Gostei bastante! O ${produto} funciona melhor do que outros que já testei. Faria a compra novamente com certeza.`,
        `O ${produto} tem uma qualidade muito boa. Chegou bem embalado e tudo funcionando perfeitamente.`
    ];

    const comentariosNeg = [
        `Infelizmente o ${produto} não entregou o que promete. Começou a apresentar defeitos poucos dias depois do uso.`,
        `A qualidade do ${produto} deixou muito a desejar. O material parece frágil e me arrependo da compra.`,
        `Não sei se tive azar, mas o ${produto} veio com problemas desde o início. Não compraria novamente.`,
        `O desempenho do ${produto} ficou bem abaixo do esperado. Pelo valor, achei que seria bem melhor.`,
        `O ${produto} funcionou bem nos primeiros dias, mas depois começou a travar e perder eficiência. Fiquei decepcionado.`
    ];

    const comentariosNeut = [
        `O ${produto} é ok. Funciona normalmente, mas nada que impressione. Serve para quem não tem grandes exigências.`,
        `É um produto mediano. O ${produto} cumpre o que promete, mas não entrega nada além disso.`,
        `Achei o ${produto} razoável. Pelo preço, até compensa, mas não espere muita coisa.`,
        `O ${produto} funciona direitinho, mas poderia ter uma qualidade melhor. Ao menos cumpre seu papel.`,
        `Nada demais. O ${produto} atende o básico e pode ser suficiente dependendo do seu uso.`
    ];

    let avaliacoes = [];

    for (let i = 0; i < 5; i++) {
        const nome = nomes[Math.floor(Math.random() * nomes.length)];

        const tipo = Math.random();
        let nota, frase, comentario, classeCard, classeAvatar;

        if (tipo < 0.45) { 
            nota = Math.floor(Math.random() * 2) + 4;
            frase = frasesPos[Math.floor(Math.random() * frasesPos.length)];
            comentario = comentariosPos[Math.floor(Math.random() * comentariosPos.length)];
            classeCard = "card-positiva";
            classeAvatar = "avatar-positiva";
        } else if (tipo < 0.75) { 
            nota = Math.floor(Math.random() * 2) + 1;
            frase = frasesNeg[Math.floor(Math.random() * frasesNeg.length)];
            comentario = comentariosNeg[Math.floor(Math.random() * comentariosNeg.length)];
            classeCard = "card-negativa";
            classeAvatar = "avatar-negativa";
        } else { 
            nota = 3;
            frase = frasesNeut[Math.floor(Math.random() * frasesNeut.length)];
            comentario = comentariosNeut[Math.floor(Math.random() * comentariosNeut.length)];
            classeCard = "card-neutra";
            classeAvatar = "avatar-neutra";
        }

        avaliacoes.push({ nome, nota, frase, comentario, classeCard, classeAvatar });
    }

    return avaliacoes;
}

document.getElementById("buscarBtn").addEventListener("click", () => {
    const input = document.getElementById("produtoInput").value.trim();
    const resultados = document.getElementById("resultados");
    const loading = document.getElementById("loading");

    if(!input) return alert("Digite pelo menos um produto!");

    resultados.innerHTML = "";
    loading.style.display = "block";

    const produtos = input.split(",").map(p => p.trim()).filter(p => p);

    setTimeout(() => {
        produtos.forEach(produto => {
            const avaliacoes = gerarAvaliacoes(produto);
            avaliacoes.forEach(av => {
                const card = document.createElement("div");
                card.className = "card-avaliacao " + av.classeCard;
                card.innerHTML = `
                    <div class="card-user">
                        <div class="avatar ${av.classeAvatar}">${av.nome.charAt(0)}</div>
                        <strong>${av.nome}</strong>
                    </div>
                    <h3>${av.frase}</h3>
                    <div class="stars">${'⭐'.repeat(av.nota)}</div>
                    <p>${av.comentario}</p>
                `;
                resultados.appendChild(card);
            });
        });
        loading.style.display = "none";
    }, 500);
});
</script>

</body>
</html>
